extends ../layout

include ../mixins/_pagination

block content
  .inner
    h1.text-6xl.py-4 Agencies
    div(class="mx-auto ")
      div(class="bg-white shadow-xl rounded my-6")
        table(class="text-left w-full border-collapse")
          thead
            th(class="py-4 px-6 bg-green-500 font-bold uppercase text-xl text-grey-dark border-b border-black text-center") Agency Name
            th(class="py-4 px-6 bg-green-500 font-bold uppercase text-xl text-grey-dark border-b border-black text-center") Phone Number
            th(class="py-4 px-6 bg-green-500 font-bold uppercase text-xl text-grey-dark border-b border-black text-center") Address
            th(class="py-4 px-6 bg-green-500 font-bold uppercase text-xl text-grey-dark border-b border-black text-center") CSZ
            th(class="py-4 px-6 bg-green-500 font-bold uppercase text-xl text-grey-dark border-b border-black text-center") Edit
          each agency, i in agencies
            tr(class="hover:bg-blue-200")   
              td(class="py-4 px-6 border-b border-grey-light text-center")
                a(href=`/agency/${agency.agencySlug}`) 
                  strong #{agency.agencyName}
              td(class="py-4 px-6 border-b border-grey-light text-center")= h.formatPhoneNumber(agency.agencyPhoneNumber)
              td(class="py-4 px-6 border-b border-grey-light text-center")= agency.agencyAddress
              if agency.agencyCity 
                td(class="py-4 px-6 border-b border-grey-light text-center") #{agency.agencyCity}, #{agency.agencyState} #{agency.agencyZipcode}
              else
                td(class="py-4 px-6 border-b border-grey-light text-center")
              td(class="py-4 px-6 border-b border-grey-light text-center m-auto")
                a(href=`/agency/${agency._id}/edit`)  
                  button(class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded m-1 w-full") Edit

    +pagination(page, pages, count, type)